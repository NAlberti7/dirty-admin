(this["webpackJsonpadmin-dirty"]=this["webpackJsonpadmin-dirty"]||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/logo.42119ea4.jpg"},41:function(e,t,a){e.exports=a(82)},46:function(e,t,a){},47:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},48:function(e,t,a){},49:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return ue}));var n=a(0),c=a.n(n),r=a(17),l=a.n(r),o=(a(46),a(47),a(48),a(11)),s=(a(49),a(9)),i=a(2),m=a(35),u=a.n(m).a.create({baseURL:"https://dirty-demon.herokuapp.com/api/v1"}),d=a(36),E=a.n(d),p=function(){return{type:"SET_LOGIN"}},h=function(e){return{type:"SET_BURGER",payload:e}},b=function(){return function(e){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.get("/items",t).then((function(t){e({type:"GET_ITEMS_LIST",payload:t.data.data})}))}},f=Object(i.b)((function(e){return{openBurger:e.openBurger}}),{burgerHandler:h})((function(e){var t=e.openBurger,a=e.burgerHandler,r=Object(o.g)();return console.log(r.pathname),console.log("open",t),Object(n.useEffect)((function(){a(!1)}),[r]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"overlay ".concat(t?"open":""),onClick:function(){return a(!1)}}),c.a.createElement("nav",{className:"nav ".concat(t?"nav-open-responsive":"")},c.a.createElement("div",{className:"nav-info"}),c.a.createElement("div",{className:"nav-content"},c.a.createElement("div",{className:"nav-content-logo"},c.a.createElement("h1",{className:"title"},"DIRTY DEMON")),c.a.createElement("div",{className:"nav-content-list"},c.a.createElement("div",{className:"nav-content-list--item ".concat(r.pathname.includes("dashboard")?"selected":"")},c.a.createElement(s.b,{to:"/dashboard"},"DASHBOARD")),c.a.createElement("div",{className:"nav-content-list--item ".concat(r.pathname.includes("orders")?"selected":"")},c.a.createElement(s.b,{to:"/orders"},"ORDENES")),c.a.createElement("div",{className:"nav-content-list--item ".concat(r.pathname.includes("stock")?"selected":"")},c.a.createElement(s.b,{to:"/stock"},"STOCK")),c.a.createElement("div",{className:"nav-content-list--item ".concat(r.pathname.includes("payers")?"selected":"")},c.a.createElement(s.b,{to:"/payers"},"COMPRADORES")),c.a.createElement("div",{className:"nav-content-list--item ".concat(r.pathname.includes("discount")?"selected":"")},c.a.createElement(s.b,{to:"/discount"},"DESCUENTOS"))))))}));a(72);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var y=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M492,236H20c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h472c11.046,0,20-8.954,20-20S503.046,236,492,236z"}))),_=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M492,76H20C8.954,76,0,84.954,0,96s8.954,20,20,20h472c11.046,0,20-8.954,20-20S503.046,76,492,76z"}))),O=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M492,396H20c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h472c11.046,0,20-8.954,20-20 C512,404.954,503.046,396,492,396z"}))),N=c.a.createElement("g",null),k=c.a.createElement("g",null),j=c.a.createElement("g",null),S=c.a.createElement("g",null),T=c.a.createElement("g",null),C=c.a.createElement("g",null),I=c.a.createElement("g",null),R=c.a.createElement("g",null),A=c.a.createElement("g",null),w=c.a.createElement("g",null),x=c.a.createElement("g",null),D=c.a.createElement("g",null),L=c.a.createElement("g",null),P=c.a.createElement("g",null),B=c.a.createElement("g",null),z=function(e){var t=e.svgRef,a=e.title,n=v(e,["svgRef","title"]);return c.a.createElement("svg",g({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?c.a.createElement("title",null,a):null,y,_,O,N,k,j,S,T,C,I,R,A,w,x,D,L,P,B)},G=c.a.forwardRef((function(e,t){return c.a.createElement(z,g({svgRef:t},e))})),M=(a.p,Object(i.b)(null,{burgerHandler:h})((function(e){var t=e.burgerHandler;return c.a.createElement("div",{className:"top-nav"},c.a.createElement(G,{onClick:function(){return t(!0)}}))}))),H=(a(73),function(){return c.a.createElement("div",null)}),U=a(8),V=(a(74),function(e){var t=e.payerInfo,a=Object(n.useState)(!1),r=Object(U.a)(a,2),l=r[0],o=r[1],s=t.payer,i=t.items,m=s.date_created.split("T")[0].split("-"),u="".concat(m[2],"/").concat(m[1],"/").concat(m[0]),d="".concat(s.name," ").concat(s.surname),E=i.reduce((function(e,t){return e+t.price*t.quantity}),0);return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{className:"table_body-tr ".concat(l?"expanded":"")},c.a.createElement("td",null,d),c.a.createElement("td",null,u),c.a.createElement("td",null,"$ ",E),c.a.createElement("td",{onClick:function(){return o(!l)}},"+")),l?c.a.createElement("tr",{className:"table_body-tr--expandible"},c.a.createElement("td",{colspan:"4"},c.a.createElement("h5",null,"Email: ",c.a.createElement("span",null,s.email)),c.a.createElement("h5",null,"Telefono: ",c.a.createElement("span",null,"".concat(s.phone.area_code," ").concat(s.phone.number))),c.a.createElement("div",{className:"table_body-tr--expandible__buy"},c.a.createElement("h5",null,"Compra:"),c.a.createElement("div",{className:"item-container"},i&&i.map((function(e){return c.a.createElement("div",{className:"item"},c.a.createElement("span",{className:"item-name"},"\xa0 ",e.name," \xa0 \xa0")," | ",c.a.createElement("span",{className:"item-size"},"\xa0 \xa0 TALLE: ",e.size," \xa0 \xa0")," | ",c.a.createElement("span",{className:"item-cant"},"\xa0 \xa0 CANT: ",e.quantity," \xa0 \xa0"))})))))):null)}),F=Object(i.b)((function(e){return{payers:e.payers}}))((function(e){var t=e.payers;return console.log(t),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h2",null,"Compradores")),c.a.createElement("div",{className:"card-body"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",{className:"table_head"},c.a.createElement("tr",{className:"table_head-tr"},c.a.createElement("th",null,"Nombre"),c.a.createElement("th",null,"Fecha"),c.a.createElement("th",null,"Total"),c.a.createElement("th",null,"Expandir"))),c.a.createElement("tbody",{className:"table_body"},t&&t.map((function(e){return c.a.createElement(V,{payerInfo:e})}))))))})),Y=Object(i.b)(null,{getPayersList:function(){return function(e){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.get("/payers",t).then((function(t){e({type:"GET_PAYERS_LIST",payload:t.data.data})}))}}})((function(e){var t=e.getPayersList;return Object(n.useEffect)((function(){t()}),[]),c.a.createElement("div",null,c.a.createElement("h1",{className:"view-title"},"COMPRADORES (VIEJO)"),c.a.createElement(F,null))})),$=(a(75),a(38)),q=a.n($),J=Object(i.b)((function(e){return{error:e.error}}),{login:function(e,t){return function(a){u.post("/auth/login",e).then((function(e){localStorage.setItem("token",e.data.token),a({type:"SET_LOGIN"}),t.push("/stock")})).catch((function(e){console.log(e.response.data.error),a({type:"SET_ERROR",payload:e.response.data.error})}))}}})((function(e){var t=e.login,a=e.error,r=e.history,l=Object(n.useState)(""),o=Object(U.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)(""),u=Object(U.a)(m,2),d=u[0],E=u[1];return console.log(s,d),c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"login-container_logo"},c.a.createElement("img",{src:q.a,alt:"Dirty Demon Logo"})),c.a.createElement("h1",null,"DIRTY DEMON"),c.a.createElement("input",{type:"text",name:"user",placeholder:"Ingresa tu email",className:"login-container_input",onChange:function(e){return i(e.target.value)}}),c.a.createElement("input",{type:"password",name:"user",placeholder:"Ingresa tu contrase\xf1a",className:"login-container_input",onChange:function(e){return E(e.target.value)}}),c.a.createElement("button",{type:"button",className:"login-container_button",onClick:function(){return t({email:s,password:d},r)}},"LOGIN"),a?c.a.createElement("h4",{className:"error"},a):null))})),K=(a(76),function(e){var t=e.shipments,a=t.last_modified.split("T")[0].split("-"),n="".concat(a[2],"/").concat(a[1],"/").concat(a[0]),r=t.shipping_option.estimated_delivery.date.split("T")[0].split("-"),l="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),o="".concat(t.receiver_address.address_line," ").concat(t.receiver_address.zip_code),s=t.receiver_address.phone,i=t.receiver_address.contact,m=(t.shipping_option.price,t.shipping_option.name,t.status);return c.a.createElement("div",{className:"shipping-container"},c.a.createElement("h3",null,"Ultima Mod: ",c.a.createElement("span",null,n)),c.a.createElement("h3",null,"Direccion: ",c.a.createElement("span",null,o)),c.a.createElement("h3",null,"Contacto:"," ",c.a.createElement("span",null,i," ",s)),c.a.createElement("h3",null,"Estado: ",c.a.createElement("span",null,m)),c.a.createElement("h3",null,"Entrega Estimada: ",c.a.createElement("span",null,l)))}),W=function(e){var t=e.order,a=Object(n.useState)(!1),r=Object(U.a)(a,2),l=r[0],o=r[1],s=(t.date_created?t.date_created:t.payments[0].date_created).split("T")[0].split("-"),i="".concat(s[2],"/").concat(s[1],"/").concat(s[0]),m=t.payer?"".concat(t.payer.first_name||"Sin"," ").concat(t.payer.last_name||"Nombre"):"Sin Nombre",u=(t.payer.email,t.payments[0].transaction_amount),d=t.shipments[0];console.log("SHIPMENT",d);var E="";return"paid"===t.order_status?E="PAGO":"payment_in_process"===t.order_status&&(E="EN PROCESO"),c.a.createElement("div",{className:"order-item"},c.a.createElement("div",{className:"order-item__header",onClick:function(){return o(!l)}},c.a.createElement("h3",null,i),c.a.createElement("h3",null,m),c.a.createElement("h3",null,"$",u),c.a.createElement("h3",{className:"PAGO"===E?"order-item__header-paid":"order-item__header-process"},E)),c.a.createElement("div",{className:"order-item__body ".concat(l?"show":"hidden")},c.a.createElement("article",{className:"order-item__body-container"},c.a.createElement("section",{className:"order-item__body--right"},c.a.createElement("h2",null,"INFO"),c.a.createElement("h3",null,"Email: ",c.a.createElement("span",null,t.payer.email)),c.a.createElement("h3",null,"Nombre: ",c.a.createElement("span",null,m)),c.a.createElement("h2",{style:{marginTop:"10px"}},"ENVIO"),d?c.a.createElement(K,{shipments:d}):c.a.createElement("h3",null,c.a.createElement("span",null,"Por Acordar"))),c.a.createElement("section",{className:"order-item__body--left"},c.a.createElement("h2",null,"COMPRA:"),t.buyed&&t.buyed.map((function(e){return console.log(e),c.a.createElement("div",{className:"order-container"},c.a.createElement("h3",null,e?e.name:""),c.a.createElement("h3",null,"TALLE: ",e?e.size.toUpperCase():""),c.a.createElement("h3",null,"CANTIDAD: ",e?e.quantity:""))}))))))},X=(a(77),Object(i.b)((function(e){return{orders:e.orders}}),{getOrders:function(){return function(e){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.get("/orders",t).then((function(t){e({type:"GET_ORDERS_LIST",payload:t.data.data})}))}}})((function(e){var t=e.getOrders,a=e.orders;return Object(n.useEffect)((function(){t()}),[]),console.log(a),c.a.createElement("div",{className:"orders"},c.a.createElement("h1",{className:"view-title"},"ORDENES DE COMPRA"),c.a.createElement("div",{className:"orders-container"},a&&a.map((function(e){return c.a.createElement(W,{order:e})}))))}))),Z=(a(78),a(40)),Q=a(3),ee=(a(79),a(80),function(e){var t=e.onClick,a=e.children,n=e.secondary,r=e.style;return c.a.createElement("button",{type:"button",className:"button ".concat(n?"secondary":""),onClick:t,style:r},a)}),te=a(16),ae=function(e){var t=e.itemstock,a=e.index,n=e.newStockHandler;return c.a.createElement("div",{className:"itemstock"},c.a.createElement("h4",null,t.size.toUpperCase()),c.a.createElement("input",{type:"number",min:"0",name:t.size,defaultValue:t.stock,className:"stock-item_input",onChange:function(e){return n(e.target.value,t._id,a)}}))},ne=Object(i.b)(null,{updateStock:function(e,t){return function(a){var n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.put("/items/".concat(t),e,n).then((function(t){E.a.fire("\xa1Actualizado!","".concat(e.name," ha sido actualizado"),"success"),a(b())}))}}})((function(e){var t=e.item,a=e.updateStock,r=Object(n.useState)(!1),l=Object(U.a)(r,2),o=l[0],s=l[1],i=Object(n.useState)(Object(te.cloneDeep)(t)),m=Object(U.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)(Object(te.cloneDeep)(t.stock)),p=Object(U.a)(E,2),h=p[0],b=p[1],f=function(e,t){var a=Object(Q.a)({},u);a[t]=e,d(a)},g=function(e,t,a){var n=Object(Z.a)(h),c=n.find((function(e){return e._id===t}));c.stock=e,n.slice(a,1,c),b(n)},v=t.stock.reduce((function(e,t){return e+t.stock}),0);return console.log(u),c.a.createElement("div",{className:"stock-item"},c.a.createElement("div",{className:"stock-item__header",onClick:function(){return s(!o)}},c.a.createElement("img",{src:t.itemPicture.front,alt:"image"}),c.a.createElement("h2",null,t.name),c.a.createElement("h2",null,"$",t.price),c.a.createElement("h2",null,"Stock: ",v)),o?c.a.createElement("div",{className:"stock-item__body ".concat(o?"show":"hidden")},c.a.createElement("article",{className:"stock-item__body-container"},c.a.createElement("section",{className:"stock-item__body--left"},c.a.createElement("div",{className:"stock-item__body-item"},c.a.createElement("h3",null,"Nombre"),c.a.createElement("input",{type:"text",name:"name",defaultValue:u.name,className:"stock-item_input",onChange:function(e){return f(e.target.value,"name")}})),c.a.createElement("div",{className:"stock-item__body-item"},c.a.createElement("h3",null,"Precio"),c.a.createElement("input",{type:"text",name:"price",defaultValue:u.price,className:"stock-item_input",onChange:function(e){return f(Number(e.target.value),"price")}})),c.a.createElement("div",{className:"stock-item__body-item"},c.a.createElement("h3",null,"Descripcion"),c.a.createElement("input",{type:"text",name:"description",defaultValue:u.description,className:"stock-item_input",onChange:function(e){return f([e.target.value],"description")}}))),c.a.createElement("section",{className:"stock-item__body--right"},c.a.createElement("div",{className:"stock-item__body-item"},c.a.createElement("h3",null,"Stock"),h.map((function(e,t){return c.a.createElement(ae,{itemstock:e,index:t,newStockHandler:g})}))))),c.a.createElement("div",{className:"buttons"},c.a.createElement(ee,{onClick:function(){d(Object(te.cloneDeep)(t)),b(Object(te.cloneDeep)(t.stock)),s(!o)},secondary:!0,style:{width:"40%"}},"CANCELAR"),c.a.createElement(ee,{onClick:function(){var e=Object(Q.a)(Object(Q.a)({},u),{},{stock:h});a(e,e._id),s(!o)},style:{width:"40%"}},"ACTUALIZAR"))):null)})),ce=Object(i.b)((function(e){return{stock:e.items}}))((function(e){var t=e.stock;return c.a.createElement("div",{className:"stock"},c.a.createElement("div",{className:"stock-container"},t&&t.map((function(e){return c.a.createElement(ne,{item:e})}))))})),re=Object(i.b)(null,{getItems:b})((function(e){var t=e.getItems;return Object(n.useEffect)((function(){t()}),[]),c.a.createElement("div",null,c.a.createElement("h1",{className:"view-title"},"STOCK"),c.a.createElement(ce,null))}));var le=Object(i.b)((function(e){return{isAuth:e.isAuth}}),{isLoggedIn:p})((function(e){var t=e.isAuth,a=e.isLoggedIn;return Object(n.useEffect)((function(){localStorage.getItem("token")&&a()}),[t]),c.a.createElement("div",{className:"App"},t?c.a.createElement(o.a,{to:"/stock"}):c.a.createElement(o.a,{to:"/login"}),c.a.createElement(o.b,{exact:!0,path:"/login",component:J}),t?c.a.createElement(c.a.Fragment,null,c.a.createElement(f,null),c.a.createElement(M,null),c.a.createElement("div",{className:"view-container"},c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/dashboard",component:H}),c.a.createElement(o.b,{exact:!0,path:"/payers",component:Y}),c.a.createElement(o.b,{exact:!0,path:"/orders",component:X}),c.a.createElement(o.b,{exact:!0,path:"/stock",component:re})))):null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(13),se=a(39),ie={payers:null,isAuth:!1,error:null,items:null,orders:null,openBurger:!1},me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,ue=Object(oe.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN":return Object(Q.a)(Object(Q.a)({},e),{},{isAuth:!0,error:null});case"SET_ERROR":return Object(Q.a)(Object(Q.a)({},e),{},{error:t.payload});case"GET_PAYERS_LIST":return Object(Q.a)(Object(Q.a)({},e),{},{payers:t.payload.reverse()});case"GET_ITEMS_LIST":return Object(Q.a)(Object(Q.a)({},e),{},{items:t.payload});case"GET_ORDERS_LIST":return Object(Q.a)(Object(Q.a)({},e),{},{orders:t.payload.reverse()});case"SET_BURGER":return Object(Q.a)(Object(Q.a)({},e),{},{openBurger:t.payload});default:return e}}),me(Object(oe.a)(se.a))),de=c.a.createElement(i.a,{store:ue},c.a.createElement(s.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(le,null))));l.a.render(de,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.b56d5c40.chunk.js.map